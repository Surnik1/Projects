import telebot
import time
from random import choice
token = '8578235504:AAHRjYdCFGtiZ9M_jqEB83hr2IjMePA_yCc'
users = {}
shablons = ['ğŸ’§ ĞŸĞ¾Ñ€Ğ° ÑĞ´ĞµĞ»Ğ°Ñ‚ÑŒ Ğ¿Ğ°Ñ€Ñƒ Ğ³Ğ»Ğ¾Ñ‚ĞºĞ¾Ğ² Ğ²Ğ¾Ğ´Ñ‹',

'ğŸš° Ğ¡Ğ°Ğ¼Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ Ğ¿Ğ¾Ğ¿Ğ¸Ñ‚ÑŒ Ğ²Ğ¾Ğ´Ñ‹',

'â° ĞĞµĞ±Ğ¾Ğ»ÑŒÑˆĞ°Ñ Ğ¿Ğ°ÑƒĞ·Ğ° â€” Ğ²Ğ¾Ğ´Ğ° Ğ¶Ğ´Ñ‘Ñ‚',

'ğŸ’™ ĞĞ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ğµ: Ğ²Ğ¾Ğ´Ğ° = Ğ·Ğ°Ğ±Ğ¾Ñ‚Ğ° Ğ¾ ÑĞµĞ±Ğµ']
bot = telebot.TeleBot(token)
@bot.message_handler(commands=['start'])
def start(message):
    bot.send_message(message.chat.id,'ĞŸÑ€Ğ¸Ğ²ĞµÑ‚! ğŸ‘‹\
                     \nĞ¯ Ñ‚Ğ²Ğ¾Ğ¹ Ğ²Ğ¾Ğ´Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ½Ğ¸Ğº ğŸ’§\
        \nĞœĞ¾Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ° - Ğ½Ğ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ñ‚ÑŒ Ñ‚ĞµĞ±Ğµ Ğ¿Ğ¸Ñ‚ÑŒ Ğ²Ğ¾Ğ´Ñƒ Ğ¸ Ğ·Ğ°Ğ±Ğ¾Ñ‚Ğ¸Ñ‚ÑŒÑÑ Ğ¾ ÑĞ²Ğ¾Ñ‘Ğ¼ Ñ‚ĞµĞ»Ğµ.\
            \n\nĞ§Ñ‚Ğ¾Ğ±Ñ‹ Ñ Ğ¼Ğ¾Ğ³ Ğ½Ğ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ñ‚ÑŒ Ğ² ÑƒĞ´Ğ¾Ğ±Ğ½Ğ¾Ğµ Ñ‚ĞµĞ±Ğµ Ğ²Ñ€ĞµĞ¼Ñ Ğ½Ğ°Ğ¿Ğ¸ÑˆĞ¸\
                \n/setreminder 5 - Ğ³Ğ´Ğµ 5 ÑƒĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ñ‡ĞµÑ€ĞµĞ· ÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ñ‡Ğ°ÑĞ¾Ğ² Ñ‚ĞµĞ±Ğµ Ğ½Ğ°Ğ¿Ğ¾Ğ¼Ğ½Ğ¸Ñ‚ÑŒ')
    users[message.chat.id] = {}
    users[message.chat.id]['drank'] = 0
@bot.message_handler(commands=['setreminder'])
def remind(message):
    f = True
    
    try:
        t = int(message.text.split()[1])
        bot.send_message(message.chat.id, f'ĞĞ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ğµ Ğ±ÑƒĞ´ĞµÑ‚ Ğ²Ñ‹ÑĞ»Ğ°Ğ½Ğ¾ Ñ‡ĞµÑ€ĞµĞ· {t} Ñ‡Ğ°ÑĞ¾Ğ²' )
        time.sleep(t )
        
    except IndexError:
        f = False
        bot.send_message(message.chat.id, 
'''
ĞŸĞ¾Ñ…Ğ¾Ğ¶Ğµ Ğ²Ñ‹ Ñ‡Ñ‚Ğ¾-Ñ‚Ğ¾ Ğ²Ğ²ĞµĞ»Ğ¸ Ğ½Ğµ Ğ²ĞµÑ€Ğ½Ğ¾
â¬‡ï¸ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğµ:
/setreminder x -Ğ³Ğ´Ğµ x ÑƒĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ²Ñ€ĞµĞ¼Ñ
Ñ‡ĞµÑ€ĞµĞ· ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğµ Ğ²Ğ°Ğ¼ Ğ½Ğ°Ğ´Ğ¾ Ğ½Ğ°Ğ¿Ğ¾Ğ¼Ğ½Ğ¸Ñ‚ÑŒ Ğ²Ñ‹Ğ¿Ğ¸Ñ‚ÑŒ Ğ²Ğ¾Ğ´Ñ‹''')
    if f:
        bot.send_message(message.chat.id, choice(shablons))
@bot.message_handler(commands=['drank'])
def drank(message):
    f = True
    try:
        water =int(message.text.split()[1])
        users[message.chat.id]['drank'] += int(message.text.split()[1])
        if users[message.chat.id]['drank'] > 2000:
            users[message.chat.id]['drank'] = 2000
    except IndexError:
        f = False
        bot.send_message(message.chat.id, 'Ğ¥Ğ¼Ğ¼...\
            \nĞŸĞ¾Ñ…Ğ¾Ğ´Ñƒ Ñ‚Ñ‹ Ğ·Ğ°Ğ±Ñ‹Ğ» Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ²Ğ¾Ğ´Ñ‹ ,ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğµ Ñ‚Ñ‹ Ğ²Ñ‹Ğ¿Ğ¸Ğ»')
    if f:
        bot.send_message(message.chat.id,'''
Ğ•Ñ‰Ñ‘ Ğ²Ğ¾Ğ´Ñ‹ Ğº Ñ‚Ğ²Ğ¾ĞµĞ¼Ñƒ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ¼Ñƒ ğŸ’§
Ğ¢Ğ°Ğº Ğ´ĞµÑ€Ğ¶Ğ°Ñ‚ÑŒ ğŸ‘ Ğ’Ğ¾Ğ´Ğ° Ğ·Ğ°ÑÑ‡Ğ¸Ñ‚Ğ°Ğ½Ğ°
ĞœĞ¾Ğ»Ğ¾Ğ´ĞµÑ†! Ğ—Ğ°Ğ±Ğ¾Ñ‚Ğ° Ğ¾ ÑĞµĞ±Ğµ â€” ÑÑ‚Ğ¾ Ğ²Ğ°Ğ¶Ğ½Ğ¾ ğŸ’™''')
@bot.message_handler(commands=['status'])
def stats(message):
    water = users[message.chat.id]['drank']
    percent = int(water / 2000 * 100)
    if water == 2000:
        bot.send_message(message.chat.id,
f'''
Ğ’Ğ¾Ğ´Ğ° Ğ·Ğ° ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Ğ’Ñ‹Ğ¿Ğ¸Ñ‚Ğ¾: 2000 / 2000ğŸ˜µ
ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ: {10 * 'â–ˆ'} ğŸ˜§
ĞÑÑ‚Ğ°Ğ»Ğ¾ÑÑŒ: 0 Ğ¼Ğ» â˜ ï¸''')
    else:
        bot.send_message(message.chat.id, 
f'''ğŸ’§ Ğ’Ğ¾Ğ´Ğ° Ğ·Ğ° ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Ğ’Ñ‹Ğ¿Ğ¸Ñ‚Ğ¾: {water} / 2000 Ğ¼Ğ»
ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ: {(percent // 10) * 'â–ˆ'}{((100 - percent) // 10) * 'â–‘'} {percent}%
ĞÑÑ‚Ğ°Ğ»Ğ¾ÑÑŒ: {2000 - water} Ğ¼Ğ»
''')
    
bot.infinity_polling()
